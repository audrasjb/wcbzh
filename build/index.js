(()=>{"use strict";var e={n:o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return e.d(n,{a:n}),n},d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=window.wp.domReady;var n=e.n(o);const t=window.wp.element,a=window.wp.i18n,s=window.wp.components,l=window.wp.apiFetch;var i=e.n(l);const r=window.wp.data,h=window.wp.notices,c=window.ReactJSXRuntime,w=({value:e,onChange:o})=>(0,c.jsx)(s.ToggleControl,{label:(0,a.__)("Afficher sur le site","wpbzh"),checked:e,onChange:o,__nextHasNoMarginBottom:!0}),u=({value:e,onChange:o})=>(0,c.jsx)(s.TextareaControl,{label:(0,a.__)("Mon message","wpbzh"),help:(0,a.__)("Indiquer ici le message à afficher dans le bandeau WCBZH","wcbzh"),value:e,onChange:o,__nextHasNoMarginBottom:!0}),p=({value:e,onChange:o})=>(0,c.jsx)(s.SelectControl,{label:(0,a.__)("Position du message","wpbzh"),options:[{label:(0,a.__)("Haut","wpbzh"),value:"top"},{label:(0,a.__)("Bas","wpbzh"),value:"bottom"}],value:e,onChange:o,__nextHasNoMarginBottom:!0}),d=({value:e,onChange:o})=>(0,c.jsx)(s.ToggleControl,{label:(0,a.__)("Utiliser une animation moderne pour mettre en valeur le bandeau ?","wpbzh"),checked:e,onChange:o,__nextHasNoMarginBottom:!0}),g=({color:e,onChange:o})=>(0,c.jsx)(s.ColorPicker,{color:e,copyFormat:"hex",onChange:o}),m=({onClick:e})=>(0,c.jsx)(s.Button,{variant:"primary",onClick:e,__next40pxDefaultSize:!0,children:(0,a.__)("Enregistrer les modifs","wpbzh")}),_=()=>{const{removeNotice:e}=(0,r.useDispatch)(h.store),o=(0,r.useSelect)((e=>e(h.store).getNotices()));return 0===o.length?null:(0,c.jsx)(s.NoticeList,{notices:o,onRemove:e})},b=()=>{const{show:e,setShow:o,message:n,setMessage:l,position:b,setPosition:x,animate:j,setAnimate:C,color:v,setColor:z,saveSettings:P}=(()=>{const[e,o]=(0,t.useState)(),[n,s]=(0,t.useState)(),[l,c]=(0,t.useState)(),[w,u]=(0,t.useState)(),[p,d]=(0,t.useState)(),{createSuccessNotice:g}=(0,r.useDispatch)(h.store);return(0,t.useEffect)((()=>{i()({path:"/wp/v2/settings"}).then((e=>{o(e.wpbzh.show),s(e.wpbzh.message),c(e.wpbzh.position),u(e.wpbzh.animate),d(e.wpbzh.color)}))}),[]),{show:e,setShow:o,message:n,setMessage:s,position:l,setPosition:c,animate:w,setAnimate:u,color:p,setColor:d,saveSettings:()=>{i()({path:"/wp/v2/settings",method:"POST",data:{wpbzh:{show:e,message:n,position:l,animate:w,color:p}}}).then((()=>{g((0,a.__)("Réglages enregistrés.","wpbzh"))}))}}})();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.Panel,{children:[(0,c.jsx)(s.PanelBody,{children:(0,c.jsx)(s.PanelRow,{children:(0,c.jsx)(w,{value:e,onChange:e=>o(e)})})}),(0,c.jsx)(s.PanelBody,{title:"Contenu du message",initialOpen:!1,children:(0,c.jsx)(s.PanelRow,{children:(0,c.jsx)(u,{value:n,onChange:e=>l(e)})})}),(0,c.jsxs)(s.PanelBody,{title:"Apparence du message",initialOpen:!1,children:[(0,c.jsx)(s.PanelRow,{children:(0,c.jsx)(p,{__nextHasNoMarginBottom:!0,onChange:e=>x(e),value:b,options:[{label:(0,a.__)("Haut","wpbzh"),value:"top"},{label:(0,a.__)("Bas","wpbzh"),value:"bottom"}]})}),(0,c.jsx)(s.PanelRow,{children:(0,c.jsx)(d,{value:j,onChange:e=>C(e)})}),(0,c.jsx)(s.PanelRow,{children:(0,c.jsx)("label",{class:"components-base-control__label custom-label",children:(0,a.__)("Couleur de fond du bandeau","wpbzh")})}),(0,c.jsx)(s.PanelRow,{children:(0,c.jsx)(g,{color:v,onChange:e=>z(e)})})]})]}),(0,c.jsx)(m,{onClick:P}),(0,c.jsx)(_,{})]})};n()((()=>{(0,t.createRoot)(document.getElementById("wcbzh-settings")).render((0,c.jsx)(b,{}))}))})();